



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="A platform for building DAOs">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Setup Generic Scheme for a DAO - DAOstack Developer Egress</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="black" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#setup-generic-scheme-for-a-dao" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="DAOstack Developer Egress" class="md-header-nav__button md-logo">
          
            <img src="../../images/daostack-logoW.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              DAOstack Developer Egress
            </span>
            <span class="md-header-nav__topic">
              
                Setup Generic Scheme for a DAO
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/daostack/DAOstack-Hacker-Kit/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    daostack/DAOstack-Hacker-Kit
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="DAOstack Developer Egress" class="md-nav__button md-logo">
      
        <img src="../../images/daostack-logoW.svg" width="48" height="48">
      
    </a>
    DAOstack Developer Egress
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/daostack/DAOstack-Hacker-Kit/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    daostack/DAOstack-Hacker-Kit
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Stack
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Stack
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../stack/infra/infraIntro/" title="Infra" class="md-nav__link">
      Infra
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stack/arc/arcIntro/" title="Arc" class="md-nav__link">
      Arc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stack/client/clientIntro/" title="Client" class="md-nav__link">
      Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stack/subgraph/subgraphIntro/" title="Subgraph" class="md-nav__link">
      Subgraph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stack/alchemy/alchemyIntro/" title="DApps/Alchemy" class="md-nav__link">
      DApps/Alchemy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../migration/" title="Migration" class="md-nav__link">
      Migration
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../setupAlchemyDevMode/" title="Add features to Alchemy interface" class="md-nav__link">
      Add features to Alchemy interface
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Setup Generic Scheme for a DAO
      </label>
    
    <a href="./" title="Setup Generic Scheme for a DAO" class="md-nav__link md-nav__link--active">
      Setup Generic Scheme for a DAO
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#when-to-use-genericscheme-or-ugenericscheme" class="md-nav__link">
    When to use GenericScheme or UGenericScheme
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-register-generic-scheme-with-a-dao" class="md-nav__link">
    How to register Generic Scheme with a DAO
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup-generic-scheme-while-deploying-dao" class="md-nav__link">
    Setup Generic Scheme while deploying DAO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-generic-scheme-via-scheme-registrar" class="md-nav__link">
    Setup Generic Scheme via Scheme Registrar
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-ugenericscheme-to-interact-with-your-contract" class="md-nav__link">
    Set UGenericScheme to interact with your contract
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-genericscheme-to-interact-with-your-contract" class="md-nav__link">
    Set GenericScheme to interact with your contract
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submit-new-proposal-to-scheme-registrar-via-alchemy-ui" class="md-nav__link">
    Submit new proposal to Scheme Registrar via Alchemy UI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-get-your-generic-scheme-shown-in-alchemy" class="md-nav__link">
    How to get your Generic Scheme shown in Alchemy
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-proposal" class="md-nav__link">
    Creating Proposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#displaying-proposals" class="md-nav__link">
    Displaying proposals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-changes-to-scheme-ui" class="md-nav__link">
    (Optional) Changes to scheme UI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../setupCustomScheme.md" title="Add custom scheme to the DAO" class="md-nav__link">
      Add custom scheme to the DAO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../setupCustomSchemeAlchemy.md" title="Add custom scheme to Alchemy" class="md-nav__link">
      Add custom scheme to Alchemy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployDAO/" title="Deploy a DAO" class="md-nav__link">
      Deploy a DAO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../createNewInterface/" title="Create your own interface for DAOstack DAOs" class="md-nav__link">
      Create your own interface for DAOstack DAOs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../hackerkit/" title="Hacker-kit" class="md-nav__link">
      Hacker-kit
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#when-to-use-genericscheme-or-ugenericscheme" class="md-nav__link">
    When to use GenericScheme or UGenericScheme
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-register-generic-scheme-with-a-dao" class="md-nav__link">
    How to register Generic Scheme with a DAO
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup-generic-scheme-while-deploying-dao" class="md-nav__link">
    Setup Generic Scheme while deploying DAO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-generic-scheme-via-scheme-registrar" class="md-nav__link">
    Setup Generic Scheme via Scheme Registrar
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-ugenericscheme-to-interact-with-your-contract" class="md-nav__link">
    Set UGenericScheme to interact with your contract
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-genericscheme-to-interact-with-your-contract" class="md-nav__link">
    Set GenericScheme to interact with your contract
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submit-new-proposal-to-scheme-registrar-via-alchemy-ui" class="md-nav__link">
    Submit new proposal to Scheme Registrar via Alchemy UI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-get-your-generic-scheme-shown-in-alchemy" class="md-nav__link">
    How to get your Generic Scheme shown in Alchemy
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-proposal" class="md-nav__link">
    Creating Proposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#displaying-proposals" class="md-nav__link">
    Displaying proposals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-changes-to-scheme-ui" class="md-nav__link">
    (Optional) Changes to scheme UI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/daostack/DAOstack-Hacker-Kit/edit/master/docs/gettingStarted/setupGenericScheme.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="setup-generic-scheme-for-a-dao">Setup Generic Scheme for a DAO<a class="headerlink" href="#setup-generic-scheme-for-a-dao" title="Permanent link">&para;</a></h1>
<h2 id="when-to-use-genericscheme-or-ugenericscheme">When to use GenericScheme or UGenericScheme<a class="headerlink" href="#when-to-use-genericscheme-or-ugenericscheme" title="Permanent link">&para;</a></h2>
<p><a href="https://github.com/daostack/arc/blob/master/contracts/schemes/GenericScheme.sol">GenericScheme</a> and <a href="https://github.com/daostack/arc/blob/master/contracts/universalSchemes/UGenericScheme.sol">UGenericScheme</a> both allows a DAO to interact with other contracts and execute any method from the contract if the DAO decides to.</p>
<p><strong>UGenericScheme</strong>: If a DAO does not have a generic scheme registered or want to edit parameters of existing one, then use the already deployed UGenericScheme.</p>
<p><strong>GenericScheme</strong>: If a DAO wants to have multiple generic scheme i.e. integration with multiple different contracts, then for each subsequent contract (apart from the one already registered via UGenericScheme) you need to deploy an instance of GenericScheme and register it to the DAO.</p>
<p>NOTE: <em>While at the contract level GenericScheme only needs encoded call data to function, this is not the user friendly way. You will have to add Alchemy support to be able to use it. Please do not register your scheme on mainnet without adding alchemy support for it</em></p>
<h2 id="how-to-register-generic-scheme-with-a-dao">How to register Generic Scheme with a DAO<a class="headerlink" href="#how-to-register-generic-scheme-with-a-dao" title="Permanent link">&para;</a></h2>
<p>DAO only uses the schemes that are registered with its controller. There are two ways to register a scheme:</p>
<ul>
<li>
<p>While forging/deploying the DAO as part of initial set of schemes</p>
</li>
<li>
<p>While proposing the new scheme to DAO via any Scheme that has permission to register another Scheme for the DAO. <strong>In case of GenesisAlpha you can register via Scheme Registrar</strong></p>
</li>
</ul>
<h3 id="setup-generic-scheme-while-deploying-dao">Setup Generic Scheme while deploying DAO<a class="headerlink" href="#setup-generic-scheme-while-deploying-dao" title="Permanent link">&para;</a></h3>
<p>While deploying DAO, if you want to interact with just single contract then you can use <code>UGenericScheme</code> and register that to your DAO.</p>
<p>In case there are multiple contracts you wish to interact with, then you can register multiple <code>GenericScheme</code> and mention each in <code>customSchemes</code> section of your <code>migration-dao-params.json</code>.</p>
<p>Refer to <a href="../deployDAO">How to deploy DAO</a></p>
<h3 id="setup-generic-scheme-via-scheme-registrar">Setup Generic Scheme via Scheme Registrar<a class="headerlink" href="#setup-generic-scheme-via-scheme-registrar" title="Permanent link">&para;</a></h3>
<h4 id="set-ugenericscheme-to-interact-with-your-contract">Set UGenericScheme to interact with your contract<a class="headerlink" href="#set-ugenericscheme-to-interact-with-your-contract" title="Permanent link">&para;</a></h4>
<p>NOTE: Follow this if generic scheme is not already registered or need to update to new parameters</p>
<p>You can use UGenericScheme's <code>setParameters</code> method to setup <code>contractToCall</code>, <code>votingMachine</code> to use and <code>voteParameters</code> for the voting</p>
<p>Following is a short script that describes how to do this</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="kr">const</span> <span class="nx">ugenericScheme</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">Contract</span><span class="p">(</span>
    <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@daostack/arc/build/contracts/UGenericScheme.json&#39;</span><span class="p">).</span><span class="nx">abi</span><span class="p">,</span>
    <span class="nx">UGenericSchemeAddress</span><span class="p">,</span> <span class="c1">// address from https://github.com/daostack/migration/blob/master/migration.json</span>
    <span class="p">{</span>
      <span class="nx">from</span><span class="p">,</span>
      <span class="nx">gas</span><span class="p">,</span>
      <span class="nx">gasPrice</span>
    <span class="p">}</span>
  <span class="p">)</span>

  <span class="c1">// Following are example values, Please change appropriately</span>
  <span class="c1">// Refer https://daostack.zendesk.com/hc/en-us/sections/360000535638-Genesis-Protocol</span>
  <span class="kr">const</span> <span class="nx">voteParams</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;boostedVotePeriodLimit&quot;</span><span class="o">:</span> <span class="mi">345600</span><span class="p">,</span>
        <span class="s2">&quot;daoBountyConst&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;minimumDaoBountyGWei&quot;</span><span class="o">:</span> <span class="mi">150000000000</span><span class="p">,</span>
        <span class="s2">&quot;queuedVotePeriodLimit&quot;</span><span class="o">:</span> <span class="mi">2592000</span><span class="p">,</span>
        <span class="s2">&quot;queuedVoteRequiredPercentage&quot;</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>
        <span class="s2">&quot;preBoostedVotePeriodLimit&quot;</span><span class="o">:</span> <span class="mi">86400</span><span class="p">,</span>
        <span class="s2">&quot;proposingRepRewardGwei&quot;</span><span class="o">:</span> <span class="mi">50000000000</span><span class="p">,</span>
        <span class="s2">&quot;quietEndingPeriod&quot;</span><span class="o">:</span> <span class="mi">172800</span><span class="p">,</span>
        <span class="s2">&quot;thresholdConst&quot;</span><span class="o">:</span> <span class="mi">1200</span><span class="p">,</span>
        <span class="s2">&quot;voteOnBehalf&quot;</span><span class="o">:</span> <span class="s2">&quot;0x0000000000000000000000000000000000000000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;votersReputationLossRatio&quot;</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;activationTime&quot;</span><span class="o">:</span> <span class="mi">0</span>
      <span class="p">}</span>

  <span class="c1">// Get address from https://github.com/daostack/migration/blob/master/migration.json</span>
  <span class="kr">const</span> <span class="nx">votingMachineAddress</span> <span class="o">=</span> <span class="s2">&quot;0xaddress-of-VotingMachine-of-DAO-on-given-network&quot;</span>

  <span class="c1">// For eg if you want this Generic Scheme to enable DAO to interact with Bounties Network</span>
  <span class="c1">// then targetContract would be the address of Bounties Network&#39;s respective contract</span>
  <span class="kr">const</span> <span class="nx">targetContractAddress</span> <span class="o">=</span> <span class="s2">&quot;0xaddress-of-contract-this-will-interact-with&quot;</span>


  <span class="c1">// paramHash will be useful in later step so lets log it</span>
  <span class="kr">const</span> <span class="nx">paramHash</span> <span class="o">=</span> <span class="nx">ugenericScheme</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">setParameters</span><span class="p">(</span>
      <span class="nx">voteParams</span><span class="p">,</span>
      <span class="nx">votingMachineAddress</span><span class="p">,</span>
      <span class="nx">targetContractAddress</span>
      <span class="p">).</span><span class="nx">call</span><span class="p">()</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">paramHash</span><span class="p">)</span>

  <span class="nx">ugenericScheme</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">setParameters</span><span class="p">(</span>
        <span class="nx">voteParams</span><span class="p">,</span>
        <span class="nx">votingMachineAddress</span><span class="p">,</span>
        <span class="nx">targetContractAddress</span>
      <span class="p">).</span><span class="nx">send</span><span class="p">()</span>
</pre></div>
</td></tr></table>

<p>OR</p>
<h4 id="set-genericscheme-to-interact-with-your-contract">Set GenericScheme to interact with your contract<a class="headerlink" href="#set-genericscheme-to-interact-with-your-contract" title="Permanent link">&para;</a></h4>
<p>NOTE: Follow this if UGenericScheme is already being used and DAO need to interact with another contract</p>
<p>You will have to deploy a new instance of GenericScheme contract and use its <code>initialize</code> method to setup the DAO <code>Avatar</code>, <code>contractToCall</code>, <code>votingMachine</code> to use and <code>voteParameters</code> for the voting.</p>
<p>Following is a short script that describes how to do this</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="kr">const</span> <span class="nx">genericSchemeJson</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@daostack/arc/build/contracts/GenericScheme.json&#39;</span><span class="p">)</span>

  <span class="kr">const</span> <span class="nx">genericSchemeContract</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">Contract</span><span class="p">(</span>
    <span class="nx">genericSchemeJson</span><span class="p">.</span><span class="nx">abi</span><span class="p">,</span>
    <span class="kc">undefined</span><span class="p">,</span>
    <span class="p">{</span>
      <span class="nx">from</span><span class="p">,</span>
      <span class="nx">gas</span><span class="p">,</span>
      <span class="nx">gasPrice</span>
    <span class="p">}</span>
  <span class="p">)</span>

  <span class="c1">// Deploy New GenericScheme Instance</span>
  <span class="kr">const</span> <span class="nx">genericSchemeDeployedContract</span> <span class="o">=</span> <span class="nx">genericSchemeContract</span><span class="p">.</span><span class="nx">deploy</span><span class="p">({</span>
        <span class="nx">data</span><span class="o">:</span> <span class="nx">genericSchemeJson</span><span class="p">.</span><span class="nx">bytecode</span><span class="p">,</span>
        <span class="nx">arguments</span><span class="o">:</span> <span class="kc">null</span>
      <span class="p">}).</span><span class="nx">send</span><span class="p">()</span>

  <span class="kd">let</span> <span class="nx">genericScheme</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">genericSchemeDeployedContract</span>

  <span class="c1">// Log Address of new instance to use in next step while registering the scheme to DAO</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Deployed new GenericScheme instance at </span><span class="si">${</span><span class="nx">genericScheme</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">address</span><span class="si">}</span><span class="sb">`</span><span class="p">)</span>

  <span class="c1">// Following are example values, Please change appropriately</span>
  <span class="c1">// Refer https://daostack.zendesk.com/hc/en-us/sections/360000535638-Genesis-Protocol</span>
  <span class="kr">const</span> <span class="nx">voteParams</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;boostedVotePeriodLimit&quot;</span><span class="o">:</span> <span class="mi">345600</span><span class="p">,</span>
        <span class="s2">&quot;daoBountyConst&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;minimumDaoBountyGWei&quot;</span><span class="o">:</span> <span class="mi">150000000000</span><span class="p">,</span>
        <span class="s2">&quot;queuedVotePeriodLimit&quot;</span><span class="o">:</span> <span class="mi">2592000</span><span class="p">,</span>
        <span class="s2">&quot;queuedVoteRequiredPercentage&quot;</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>
        <span class="s2">&quot;preBoostedVotePeriodLimit&quot;</span><span class="o">:</span> <span class="mi">86400</span><span class="p">,</span>
        <span class="s2">&quot;proposingRepRewardGwei&quot;</span><span class="o">:</span> <span class="mi">50000000000</span><span class="p">,</span>
        <span class="s2">&quot;quietEndingPeriod&quot;</span><span class="o">:</span> <span class="mi">172800</span><span class="p">,</span>
        <span class="s2">&quot;thresholdConst&quot;</span><span class="o">:</span> <span class="mi">1200</span><span class="p">,</span>
        <span class="s2">&quot;voteOnBehalf&quot;</span><span class="o">:</span> <span class="s2">&quot;0x0000000000000000000000000000000000000000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;votersReputationLossRatio&quot;</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;activationTime&quot;</span><span class="o">:</span> <span class="mi">0</span>
      <span class="p">}</span>

  <span class="c1">// Get address from https://github.com/daostack/migration/blob/master/migration.json</span>
  <span class="kr">const</span> <span class="nx">votingMachineAddress</span> <span class="o">=</span> <span class="s2">&quot;0xaddress-of-VotingMachine-of-DAO-on-given-network&quot;</span>

  <span class="c1">// For eg if you want this Generic Scheme to enable DAO to interact with Bounties Network</span>
  <span class="c1">// then targetContract would be the address of Bounties Network&#39;s respective contract</span>
  <span class="kr">const</span> <span class="nx">targetContractAddress</span> <span class="o">=</span> <span class="s2">&quot;0xaddress-of-contract-this-will-interact-with&quot;</span>

  <span class="kr">const</span> <span class="nx">avatar</span> <span class="o">=</span> <span class="s2">&quot;0xaddres-of-DAO&quot;</span>

  <span class="c1">// paramHash will be useful in later step so lets log it</span>
  <span class="kr">const</span> <span class="nx">paramHash</span> <span class="o">=</span> <span class="nx">genericScheme</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">initialize</span><span class="p">(</span>
      <span class="nx">avatar</span><span class="p">,</span>
      <span class="nx">voteParams</span><span class="p">,</span>
      <span class="nx">votingMachineAddress</span><span class="p">,</span>
      <span class="nx">targetContractAddress</span>
      <span class="p">).</span><span class="nx">call</span><span class="p">()</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">paramHash</span><span class="p">)</span>

  <span class="nx">genericScheme</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">initialize</span><span class="p">(</span>
        <span class="nx">avatar</span><span class="p">,</span>
        <span class="nx">voteParams</span><span class="p">,</span>
        <span class="nx">votingMachineAddress</span><span class="p">,</span>
        <span class="nx">targetContractAddress</span>
      <span class="p">).</span><span class="nx">send</span><span class="p">()</span>
</pre></div>
</td></tr></table>

<h4 id="submit-new-proposal-to-scheme-registrar-via-alchemy-ui">Submit new proposal to Scheme Registrar via Alchemy UI<a class="headerlink" href="#submit-new-proposal-to-scheme-registrar-via-alchemy-ui" title="Permanent link">&para;</a></h4>
<ol>
<li>On Alchmey landing page choose the DAO to which you wish to register the scheme</li>
<li>Visit DAO's <code>Home</code> page and choose <code>Scheme Registrar</code></li>
<li>Click <code>New Proposal</code>, this will open a popup</li>
<li>Select <code>Add Scheme</code> on the popup sidebar (on left)</li>
<li>Give appropriate title, description, url which describes the proposal</li>
<li>
<p>Put the address of Generic Scheme contract</p>
<p><strong>NOTE</strong>: Based on above step this would be either address of</p>
<ul>
<li><strong>UGenericScheme</strong>: if DAO does not have UGenericScheme registered or you are editing params for existing one, then you can use UGenericScheme address (select Generic Scheme from the options list)</li>
<li><strong>GenericScheme</strong>: if DAO already has UGenericScheme registered, then address of the new GenericScheme instance deployed in previous step should be used</li>
</ul>
</li>
<li>
<p>Enter the <code>paramHash</code> you got <a href="#set-generic-scheme-to-interact-with-your-contract">here</a></p>
</li>
<li>In permissions section choose <code>Call genericCall on behalf of</code></li>
<li>Submit Proposal and sign off the transaction</li>
<li>If the DAO agrees then your Generic Scheme with ability to interact with the <code>targetContract</code> will be registered to the DAO</li>
</ol>
<h2 id="how-to-get-your-generic-scheme-shown-in-alchemy">How to get your Generic Scheme shown in Alchemy<a class="headerlink" href="#how-to-get-your-generic-scheme-shown-in-alchemy" title="Permanent link">&para;</a></h2>
<p>To enable a User-friendly Interface for GenericScheme, we have created a way for customizing the UI for specific contracts’ proposals.</p>
<p>The customization will happen at the following places and you will have to submit PR to Alchemy repo with details of your scheme.</p>
<h3 id="creating-proposal">Creating Proposal<a class="headerlink" href="#creating-proposal" title="Permanent link">&para;</a></h3>
<p>Customize the create proposal popup to present the different functions the scheme can call on the contract. This requires adding the contracts’ ABI and customizing things like the titles of the labels and placeholders.</p>
<p>Say if this was GenericScheme to interact with Bounties Network we will create, say <code>Bounties.json</code>, file and add <a href="https://github.com/daostack/alchemy/tree/dev/src/genericSchemeRegistry/schemes">here</a></p>
<p>Use the following example or refer to an existing <a href="https://github.com/daostack/alchemy/blob/dev/src/genericSchemeRegistry/schemes/DutchX.json">DutchX</a> integration</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="c1">// Bounties.json</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Bounties&quot;</span><span class="p">,</span>
    <span class="s2">&quot;address&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;main&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;0xtarget-contract-address-on-mainnet&quot;</span> <span class="p">],</span>
      <span class="s2">&quot;rinkeby&quot;</span><span class="o">:</span> <span class="p">[],</span>
      <span class="s2">&quot;private&quot;</span><span class="o">:</span> <span class="p">[]</span>
    <span class="p">},</span>
    <span class="s2">&quot;actions&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;createBountyMethod-from-contract&quot;</span><span class="p">,</span>
        <span class="s2">&quot;label&quot;</span><span class="o">:</span> <span class="s2">&quot;Create Bounty&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;This method will create a bounty with the DAO as the issuer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;notes&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s2">&quot;label&quot;</span><span class="o">:</span> <span class="s2">&quot;bounty title&quot;</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;name-of-field-in-abi&quot;</span><span class="p">,</span>
            <span class="s2">&quot;placeholder&quot;</span><span class="o">:</span> <span class="s2">&quot;Osam Bin-Laden - dead or alive&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="c1">// more feilds if any</span>
          <span class="p">},</span>
        <span class="p">],</span>
        <span class="s2">&quot;abi&quot;</span><span class="o">:</span> <span class="p">{},</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="c1">// more methods of contract if any</span>
      <span class="p">}</span>
    <span class="p">],</span>
  <span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="displaying-proposals">Displaying proposals<a class="headerlink" href="#displaying-proposals" title="Permanent link">&para;</a></h3>
<p>You will also have to customize the description summary of proposal to explain what will happen if passed.</p>
<p>Refer to <a href="https://github.com/daostack/alchemy/blob/dev/src/components/Proposal/ProposalSummary/ProposalSummaryDutchX.tsx">ProposalSummaryDutchX</a> and add your own, say <code>ProposalSummaryBountiesNetwork.tsx</code>, proposal summary file <a href="https://github.com/daostack/alchemy/blob/dev/src/components/Proposal/ProposalSummary/">here</a></p>
<h3 id="optional-changes-to-scheme-ui">(Optional) Changes to scheme UI<a class="headerlink" href="#optional-changes-to-scheme-ui" title="Permanent link">&para;</a></h3>
<p>Current, Alchemy’s UI is only focused on the current open proposals. But based on the scheme you are adding there might be some UI features/tabs that are required.
 Say for bounties scheme, having a new tab of open bounties with information about remaining balance would be necessary.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../setupAlchemyDevMode/" title="Add features to Alchemy interface" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Add features to Alchemy interface
              </span>
            </div>
          </a>
        
        
          <a href="../deployDAO/" title="Deploy a DAO" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Deploy a DAO
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/daostack/DAOstack-Hacker-Kit" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://daostack.slack.com" class="md-footer-social__link fa fa-slack"></a>
    
      <a href="https://t.me/daostackcommunity" class="md-footer-social__link fa fa-telegram"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>